% !TEX root = ../mechatronics.tex
\chapter{Electronics Review}\label{chp:electronics}

This chapter is a quick review of basic electronics. The previous chapter involved simple, linear passive two terminal elements, which are essential for building most electrical circuits. This chapter will focus on some essential non-linear, two/three terminal electronics components which form the basis for more useful electronics cricuits such as amplifiers, oscillators,filters, power supplies, switches, etc. We will review three important electronic components and their circuits in this chapter: \textit{diode}, \textit{bipolar junction transistor (BJT)}, and \textit{metal oxide field effect transistor}.

\begin{figure}[b]
    \centering
    \includegraphics[width=0.8\textwidth]{figure/ch03/fig03-01.pdf}
    \caption{Three most essential electronic components reviewed in this chapter.}
    \label{fig:03-01}
\end{figure}

\section{Basic semiconductor concepts}
Conductivity of a material is proportional the concentration of free electrons.
\begin{equation}
    \begin{split}
    \textbf{Conductor: }\,\, & n_{cond} \approx 10^{28} electrons/m^3 \\
    \textbf{Insulator: }\,\, & n_{ins} \approx 10^{7} electrons/m^3 \\
    \textbf{Semiconductor: }\,\, & n_{ins} < n_{sem} < n_{cond}
    \end{split}
    \label{eq:ch03-elec-conc}
\end{equation}

\subsection{Intrinsic semiconductors}
Silicon or Germanium have crystalline strcuture with four covalent bonds between neighbouring atoms. At $0^\circ K$ semiconductors all covalent bonds are in place tightly holding on to electrons in the bonds. Thus these behave as perfect insulators at low temperatures. With increase in temperature, covalent bonds are ruptured, releasing \textit{free electrons} to roam around in the crystal and become available for conduction when there is an externally applied electric field. The missing electron in the ruptured covalent bond is called a \text{hole}, which too act as carrier of electricity. When an electric field is applied, electrons from neighbouring covalent bonds jump into a hole creating a hole in their previvous bond. This results in the hole effectively moving the direction opposite to the jumping electrons from the covalent bonds. Thus, unlike conductors, semiconductors can have two types of charge carriers: \textit{electrons} and \textit{holes}. The concentration of free electrons and holes in a semiconductor determines it conductivity, which is controlled by temperature. In intrinsic semiconductors, the concentration of free electrons and holes is equal, i.e. $n_{e^-} = n_{h^+} = n_i$. This concentration is given by,
\begin{equation}
    n_i = B \, T^{3/2} \, e^{-\frac{E_g}{k_B T}}
    \label{eq:ch03-intrinsic-elec-conc}
\end{equation}
where $B$ is a material constant ($7.3 \times 10^15 \text{cm}^{-3}\text{K}^{-3/2}$ for Si), $E_g$ is the band gap energy, $k_B$ is the Boltzmann constant, and $T$ is the absolute temperature in Kelvin. The band gap energy is the energy required to break a covalent bond and create a free electron-hole pair. It should be noted that the conductivity of semiconductors increases with temperature, making them suitable for thermometry.

\subsection{Doped Semiconductors}
With intrinsic semiconductors, the conductivity is still quite small at room temperature. Another precise and controlled way to change a semiconductor's conductivity is by adding impurities, called \textit{doping}. The two types of doping are: \textbf{$n$-type} and \textbf{$p$-type} doping. 

In a \textbf{$n$-type} semiconductor, a small amount of pentavalent atoms (e.g. Phosphorus, Arsenic) are added to the semiconductor. These atoms have five valence electrons, and when added to the silicon crystal, four of these electrons form covalent bonds with the neighbouring silicon atoms, while the fifth electron is free to roam around in the crystal. This results in an increase in the concentration of free electrons, making the semiconductor more conductive. The concentration of free electrons in an $n$-type semiconductor is given by,
\begin{equation}
    n_{e^-} = n_i + N_D \quad n_{h^+} = n_i
    \label{eq:ch03-n-type-elec-conc}
\end{equation}
where, $N_D$ is concentration of the doping element.

In a \textbf{$p$-type} semiconductor, a small amount of trivalent atoms (e.g. Boron) is added to the silicon crystal structure. This leaves the dopped elements with four covalent bonds with one of the bonds lacking an electron or a hole. This holes acts as a charge carrier. The concentration of the holes in a $p$-type semiconductor is give by,
\begin{equation}
    n_{h^+} = n_i + N_A \quad n_{e^-} = n_i
    \label{eq:ch03-p-type-elec-conc}
\end{equation}
where, $N_A$ is concentration of the doping element in the $p$-type semiconductor.

The doped semiconductors will have higher conductivity than the intrinsic semiconductors depending on the concentration of the impurities added to the silicon crystal.

\subsection{Flow of current in semiconductors}
There are two types of current flow mechanisms in seminconductors unlike pure conudctors -- (a) \textbf{drift current} and (b) \textbf{diffusion current}. Both are imporant for understanding the operation of the basic electronic components.

\noindent\textbf{Drift current.} Drift current is established by an external electric fields, for examples when a semiconductor is connected to a battery. Holes will accelerate in the direction of the field, while the electrons accelerate in the opposite direction. Bumping into the atoms of the cystral structure, the holes and electrons acquire an average drift velocity given by,
\begin{equation}
    \nu_{p-drift} = \mu_p E \quad \& \quad \nu_{n-drift} = -\mu_n E\
    \label{eq:ch03-drift-vel}
\end{equation}
This constitute a drift current through the semiconductor given by the following,
\begin{equation}
    I_{drift} \propto q\left(n_{h^+}\mu_p + n_{e^-}\mu_n \right) E
    \label{eq:ch03-drift-current}
\end{equation}
where, $q$ is the magnitude of electron charge.

\noindent\textbf{Diffusion current.} Diffusion currents result whena concentration gradient exists across a semiconductor.
\begin{equation}
    I_{diff} \propto -q D_q \frac{d p\left(x\right)}{dx}
    \label{eq:ch03-diff-current}
\end{equation}
where, $p\left(x\right)$ is the concentration of the charge carrier along the $x$ direction. Diffusion currents play an important role in the functioning of the BJT.

\section{Diode}
Whena  $p$-type and $n$-type semiconductors are brought in close contact to each other, there is a big concentration difference between the charge carriers across the interface. A $pn$-junction diode made by bringing a $n$-type and $p$-type semiconductors together as shown in Figure~\ref{fig:03-02}. Due to the concentration difference, electrons from the $n$-type semiconductor diffuse into the $p$-type semiconductor, while holes from the $p$-type semiconductor will diffuse into the $n$-type semiconductor. Note that this is the diffusion current $I_D$, which flows even when the diode is open circuited. This diffusion current sets up the depletion region at the interface, where there are no free charge carriers. This region consists of fixed positive and negative charges, which creates an electric field across the junction. This electric field opposes further diffusion of charge carriers across the junction, and the potential or \textit{barrier voltage} $V_0$ due to the electric field must be overcome for th diffusion current to flow across the junction. Note that the diffusion current $I_D$ is due to the majority charge carriers -- \text{holes} from the $p$ side and \textit{electrons} from the $n$-side.

There is a drift current $I_S$ that flows across the junction due to the minority charge carriers - the \textit{electrons} from the $p$-side and the \textit{holes} from the $n$-side. These thermally generated minority charge carriers, will be swept across and transported across the junction due to the electric field, which tends to reduce the barrier voltage $V_0$. Thus, when the diode is open circuited, we have an equilibrium $I_D = I_S$.

\noindent\textit{Barrier voltage} of a diode depends on several factors, the amount fo doping of the $n$ and $p$ semiconductors, the temperature, etc. The exact relationship is give by,
\begin{equation}
    V_0 = V_T \ln\left(\frac{N_A N_D}{n_i^2}\right)
    \label{eq:ch03-barrier-volt}
\end{equation}
where, $V_T$ is the thermal voltage given by $V_T = \frac{k_B T}{q}$, where $k_B$ is the Boltzmann constant, $T$ is the absolute temperature in Kelvin. For silicon diodes, this is approximately $V_T \approx 26 mV$ at room temperature. The barrier voltage $V_0$ is typically around $0.7 V$ for silicon diodes, and around $0.3 V$ for germanium diodes.

\begin{figure}[t]
    \centering
    \includegraphics[width=0.6\textwidth]{figure/ch03/fig03-02.pdf}
    \caption{$pn$ junction diode}
    \label{fig:03-02}
\end{figure}

\subsection{Applying a voltage across a diode}
When we connect a voltage source across the diode (Figure~\ref{fig:03-diode-vi}), we can either apply a forward bias or a reverse bias. When the positive terminal of the voltage source is connected to the $p$-side and the negative terminal is connected to the $n$-side, we have a \textbf{forward bias}. This reduces the barrier voltage $V_0$, and allows the diffusion current $I_D$ to flow across the junction. The diode is said to be \textit{on} in this case, and the current $I$ flowing through the diode is called the \textit{forward current}. The voltage-current realtionship between the forward current $I$ and the voltage $V$ across the diode is given by,
\begin{equation}
    I = I_S \left( e^{\frac{V}{V_T}} - 1 \right)
    \label{eq:ch03-forward-bias-vi}
\end{equation}
where, $I_S$ is the saturation current, which is the reverse current that flows when the diode is reverse biased, and , and $q$ is the magnitude of electron charge.

When the negative terminal of the voltage source is connected to the $p$-side and the positive terminal is connected to the $n$-side, we have a \textbf{reverse bias}. This increases the barrier voltage $V_0$, and prevents the diffusion current $I_D$ from flowing across the junction. The diode is said to be \textit{off} in this case, and only a small reverse saturation current $I_S$ flows through the diode.
\begin{figure}[t]
    \centering
    \includegraphics[width=0.7\textwidth]{figure/ch03/fig03-03.pdf}
    \caption{V-I characteristics of a diode}
    \label{fig:03-diode-vi}
\end{figure}
When the reverse biased voltage is increased beyond a certain threshold, called the \textit{breakdown voltage} $V_B$, the diode will start conducting in the reverse direction. This is called \textit{avalanche breakdown}, and the diode can be damaged if the current is not limited by a resistor or some other means. The avalanche breakdown is the reason for the sharp rise in the current at the $V_B$.

\subsection{A simple diode circuit}
\begin{figure}[b]
    \centering
    \includegraphics[width=0.7\textwidth]{figure/ch03/fig03-diode-resistor-ckt.pdf}
    \caption{Diode voltage and current in a simple diode circuit with a series resistor.}
    \label{fig:03-diode-resistor-ckt}
\end{figure}
In the circuit shown in Figure~\ref{fig:03-diode-vi}, the moment the forward bias-voltage gets close tot 0.6, the current starts to rise drammatically. Slight changes in the voltage will lead to large changes in the current if it is not limited by a series resistor. Without a resistor, we can easily burn the diode due to large power dissipation across the diode. Consider a more practical cicruit with a voltage source, resistor, and a diode, as shown in Figure~\ref{fig:03-diode-resistor-ckt}. The voltage across the diode $V_D$ and the current through the diode $I_D$ by writing the Kirchoff voltage law (KVL) around the loop,
\begin{equation}
    V - I_D R - V_D = 0
    \label{eq:ch03-diode-resistor-kvl}
\end{equation}
The current $I_D$ and $V_D$ from Eq.~\ref{eq:ch03-forward-bias-vi} can be substituted into Eq.~\ref{eq:ch03-diode-resistor-kvl} to solve for $V_D$ and $I_D$,
\begin{figure}[t]
    \centering
    \includegraphics[width=0.8\textwidth]{figure/ch03/fig03-bjt-struct.pdf}
    \caption{Bipolar junction transistor structure and symbol}
    \label{fig:03-04}
\end{figure}
\begin{equation}
    V - R I_S \left( e^{\frac{V_D}{V_T}} - 1 \right) - V_D = 0
    \label{eq:ch03-diode-resistor-vd-id}
\end{equation}
Unfortunately, this is a non-linear solution will need to be solved to find the voltage across the diode $V_D$ and the current through the diode $I_D$. 

Let's assume that $V=5V$ and $R=1k\Omega$ in Figure~\ref{fig:03-diode-resistor-ckt}. A first order approximation can be made by assuming that the diode is \textit{switched off}, i.e. no current is flow through it and see if it leads to a contradiction. If we assume the diode is off and no current is flowing $I_D = 0mA$ through it, then $V_D = 5V$ The diode cannot be off if $V_D \geq 0.7V$. So, the diode must be swtiched on. We will assume that the diode is on and then find out the current flowing through it and check that it is not close to 0. In the current circuit, have 
\begin{equation}
    I_D \approx \frac{V - 0.7}{R} = 4.3mA
    \label{eq:ch03-diode-resistor-id-approx}
\end{equation}
$I_D$ is large enough for to flow through the didode when its switched on. Thus, $V_D=0.7V$ and $I_D=4.3mA$ is a reasonable first approximation of the diode's voltage and current in the current circuit.

\section{Bipolar junction transistor (BJT)}
The bipolar junction transistor (BJT) is the first of some of the three terminal devices we will come across int his course. There are two types of BJTs -- $npn$ and $pnp$. BJTs are formed by sandwiching a thin layer of $p$-type semiconductor between two $n$-type semiconductors or vice versa. This is depicted in Figure~\ref{fig:03-04}. Metal contacts are made with these three semiconductor regions to form the three terminals of the BJT. In an $npn$ BJT, one of the  $n$ regions is the \textit{emitter} which is heavily dopped, and the other $n$ region is the \textit{collector}. The $p$ region is the \textit{base}, which is lightly doped and very thin compared to the widths of the emitter and collector regions. The collector is moderately doped. Three terminal devices like the BJT and MOSFET can be used as an amplifier or a switch, depending on how it is biased. We will only discuss $npn$ transistors for the rest of the section; the $pnp$ transistor is similar, but with the polarities of the voltages and currents reversed.A BJT is essentially two diodes connected back to back as shown in Figure~\ref{fig:03-04}

A BJT can be operated in three different modes, depending on the biasing of the terminals. The three modes are: (a) \textbf{Cut-off mode}, (b) \textbf{Active mode}, and (c) \textbf{Saturation mode}. The difference between the three modes are summarized in Table~\ref{tab:03-bjt-modes}.
\subsection{Cut-off mode}
In this mode, the emitter-base (EB) and the collector-base (CB) junctions are reverse biased, and not current flows through the transistor.
\begin{equation}
    I_E = 0 \quad I_B = 0 \quad I_C = 0
    \label{eq:03-bjt-cutoff}
\end{equation}
\subsection{Active mode}
In this mode, the EB junction is forward biased, while the CB junction is reverse biased. Consider the circuit in Fig.~\ref{fig:03-bjt-active}.
\begin{figure}[h]
    \centering
    \includegraphics[width=0.55\textwidth]{figure/ch03/fig03-bjt-active.pdf}
    \caption{$npn$ BJT in active mode.}
    \label{fig:03-bjt-active}
\end{figure}
When the $npn$ BJT's EB junction is forward biased ($V_{BE} \approx 0.7V$), electrons (the majority carrier) from the highly doped emitter region are injected just across the EB junction. The electrons diffuse into the base region, which is lighly doped and very thin. Because $V_C > V_B$, the injected electrons are swept across the base region by the electric field created by the reverse biased CB junction. A small percentage of these injected electrons recombibe with the holes in the base region, which contributes to the small base current. The collector current will be proportional the base current; the current gain is given by the parameter $\beta$.
\begin{equation}
    I_C = \beta I_B \quad \text{where, } \beta \approx 100 - 1000
    \label{eq:03-bjt-active-ic}
\end{equation}
An equivalent circuit of the BJT in the active model is shown in the following figure (Fig.~\ref{fig:03-bjt-active-eqt}). In this circuit, assume that the supply voaltges $V_{BB}$, $V_{CC}$, and the resistors $R_B$ and $R_C$ are chosen appropriately to place the $npn$ transistor in the active mode. The AC source $v_{s}$ of sufficiently small in amplitude (in $mV$) will result in small changes in $I_B$, which lead to corresponding change in $I_C$. The voltage at the collector $V_C$ have a larger amplitude variations riding on a DC voltage, given by the following,
\begin{equation}
    V_C = V_{CC} - \beta \frac{R_C}{R_B}\left(V_{BB} - 0.7 \right) -  \beta \frac{R_C}{R_B} v_s
    \label{eq:03-bjt-active-vc}
\end{equation}
This is easy to derive and is left as an exercise for the reader. The input voltage $v_s$ get amplified by a factor of $\beta \frac{R_C}{R_B}$, which is the voltage gain of this the common emitter amplifier circuit. We will no disucss such circuits any further in the course. This was just to illustrate the utility of the BJT in amplifying small AC signals when operated in the active mode.
\begin{table}[h]
    \centering
    \caption{Modes of operation of a bipolar junction transistor (BJT)}
    \begin{tabular}{ c c c l}
    \hline
    \rowcolor[HTML]{F8F8F8} 
    \textbf{Mode} &
    \textbf{\begin{tabular}[c]{@{}c@{}}Emitter-Base\\ Junction\end{tabular}} &
    \textbf{\begin{tabular}[c]{@{}c@{}}Collector-Base\\ Junction\end{tabular}} &
    \multicolumn{1}{c}{\textbf{Operation}} \\ \hline
    Cut-off &
    Reverse biased &
    Reverse biased &
    Transistor is off; no current flows. \\ \hline
    Active &
    Forward biased &
    Reverse biased &
    $I_C$ is proportional to $I_B$ \\ \hline
    Saturation &
    Foward biased &
    Forward biased &
    $I_C$ and $V_{CE}$ saturate. \\ \hline
    \end{tabular}
    \label{tab:03-bjt-modes}
\end{table}

\subsection{Saturation mode}
Consider the circuit in Fig.~\ref{fig:03-bjt-sat-eqt}. If for fixed $V_{BB}$, we reduce $R_B$, this will increase $I_B$, which would result in progressively increasing $I_C$. However, $I_C$ cannot continue to increase forever. As $I_C$ increases, $V_C = V_{CC} - I_{C}R_{C}$ decreases. Once its value falls sufficiently below the base voltage $V_B$, the collector-base (CB) junction becomes forward biased. This is called the \textbf{saturation mode} of operation of the BJT. In this mode, the BJT behaves like a closed switch, and the collector current $I_C$ saturates at a value that is independent of the base current $I_B$. The collector-emitter voltage saturates at $V_{CE(sat)} \approx 0.2V$ for silicon BJTs, making the collector current independent of the base current.
\begin{figure}[t]
    \centering
    \includegraphics[width=\textwidth]{figure/ch03/fig03-bjt-active-eq.pdf}
    \caption{$npn$ BJT active mode equivalent circuit, and a simple common emitter voltage amplifier circuit.}
    \label{fig:03-bjt-active-eqt}
\end{figure}
\begin{equation}
    I_C \approx \frac{V_{CC} - V_{CE(sat)}}{R_C} \quad \text{and } V_{CE(sat)} \approx 0.2V
    \label{eq:03-bjt-sat-ic}
\end{equation}
The saturation mode is used in switching applications, where the BJT is used as a switch to turn on or off a load connected to the collector; think of the collector resistor as the load. We will discuss some applications later in the chapter.

\begin{figure}[b]
    \centering
    \includegraphics[width=\textwidth]{figure/ch03/fig03-bjt-sat-eq.pdf}
    \caption{$npn$ BJT active mode equivalent circuit, and a simple common emitter voltage amplifier circuit.}
    \label{fig:03-bjt-sat-eqt}
\end{figure}

\section{Metal oxide field effect transistor (MOSFET)}
While the BJT might be a popular choice for many applications where circuits are made on a breadboard or a PCB. However, when it comes to integrated circuits, the MOSFET is the most popular choice. MOSFETS can be made quite small, are easier to fabricate, and consume less power than BJTs. They canb be use for both digitial and analog integrated circuits. There are four types of MOSFETs, $n$-channel or $p$-channel textit{enhancement} or \textit{depeltion} type MOSFETs. In this section, we will only focus on the enhancement-type $n$-channel MOSFET to understand the fundamental principle of operation of the MOSFETs.

\begin{figure}[t]
    \centering
    \includegraphics[width=0.45\textwidth]{figure/ch03/fig03-mosfet-struct.pdf}
    \caption{$n$ Channel Enhancement MOSFET.}
    \label{fig:03-mosfet-struct}
\end{figure}

The physical structure of an enhancement-type $n$-channel MOSFET is shown in Figure~\ref{fig:03-mosfet-struct}. The MOSFET in this figure has four terminals - source (S), drain (D), gate (G), adn body (B). The source and drain are heavily doped $n$-type regions, while the channel is lightly doped $p$-type region. The region between drain and the source is called the \textit{channel region}. The gate is insulated from the channel by a thin layer of oxide, which acts as a dielectric. The gate terminal is used to control the formation of a conductive channel between the source and drain terminals. The body terminal is connected to the source terminal, and is usually shorted to the source in most applications. The MOSFET is a four terminal device, but it can be treated as a three terminal device by shorting the body and source terminals.

The drain is always kept at then higher potential than then source. The connection between the drain to the source is essentially two diodes connected back-to-back, implying that applying a voltage between the drain and source does not result in any current because one of the diodes if reverse biased. However, when a positive voltage is applied to the gate with respect to the body/source, things get interesting as shown in Figure~\ref{fig:03-mosfet-gate-volt}. Applying a positive gate voltage $V_{GS}$ with respect to the source terminal creates an electric field across the oxide layer, which penetrates into the channel region. This electric field attracts electrons in to the channel region right below the gate oxide layer. As the voltage in increased beyond a threshold $V_t$, a conductive channel is formed between the source and drain terminals, which can now conduct current between the source and the drain. The threshold voltage is typically between $0.3V-1.0V$. Any $v_{GS}$ applied beyond $V_t$ is called the \text{overdrive} votlage or \textit{effective} voltage $v_{OV}$.

\begin{figure}[t]
    \centering
    \includegraphics[width=0.8\textwidth]{figure/ch03/fig03-mosfet-vgs-vds.pdf}
    \caption{$n$-Channel MOSFET $V_{GS}$-$V_{DS}$ Characteristics.}
    \label{fig:03-mosfet-gate-volt}
\end{figure}

In Figure~\ref{fig:03-mosfet-gate-volt} no current flows because both the source and drain are grouded. When a drain source voltage is applied, as shown in Figure~\ref{fig:03-mosfet-drainsource-volt}, the MOSFET can be turned on by applying a positive gate voltage $V_{GS}$ with respect to the source. The current flowing through the MOSFET is called the \textit{drain current} $I_D$. The relationship between the drain current $i_D$, the gate-source voltage $V_{GS}$, and the drain-source voltage $V_{DS}$ is given by,
\begin{equation}
    i_D = k_n\left(\left(v_{GS} - V_t\right)v_{DS} - \frac{1}{2}v_{DS}^2\right)
    \label{eq03-mosfet-id-vgs}
\end{equation}
where, $k_n$ is the process transconductance parameter, and $V_t$ is the threshold voltage. This expression hold only when $V_{GS} > V_t$ and $0 \leq V_{DS} < V_{GS} - V_t$. Something very interesting happens to the channel when a drain-source voltage is applied and its magnitude is increased, as shown in Figure~\ref{fig:03-mosfet-vds-pinchoff}. The channel becomes trapizoidal in shape as $v_{DS}$ is increased due to different is $g_{GS}$ and $v_{GD}$. This causes the resistance of the channel to increase, tapering off the current flowing through it. When the $v_{DS}$ is increased further, the channels gets pinched off and the current saturates.
\begin{figure}[b]
    \centering
    \includegraphics[width=1\textwidth]{figure/ch03/fig03-mosfet-vds-pinchoff.pdf}
    \caption{$n$-Channel MOSFET $V_{DS}$ Characteristics.}
    \label{fig:03-mosfet-vds-pinchoff}
\end{figure}

\subsubsection{MOSFET regions of operation}

\begin{figure}[t]
    \centering
    \includegraphics[width=0.8\textwidth]{figure/ch03/fig03-mosfet-regions.pdf}
    \caption{Regions of operation of a MOSFET.}
    \label{fig:03-mosfet_regions}
\end{figure}

The MOSFET can be operated in three different regions, depending on the values of $V_{GS}$ and $V_{DS}$. The three regions are: (a) \textbf{Cut-off region}, (b) \textbf{Triode region}, and (c) \textbf{Saturation region}. The difference between the three regions are summarized in Table~\ref{tab:03-mosfet-regions}. 

\begin{table}[h]
    \centering
    \caption{Modes of operation of a MOSFET}
    \begin{tabular}{ c c c l}
        \hline
        \rowcolor[HTML]{F8F8F8} 
        \textbf{Mode} &
        \textbf{\begin{tabular}[c]{@{}c@{}}Gate-Source\\ Voltage\end{tabular}} &
        \textbf{\begin{tabular}[c]{@{}c@{}}Drain-Source\\ Voltage\end{tabular}} &
        \multicolumn{1}{c}{\textbf{Operation}} \\ \hline
        Cut-off &
        $V_{GS} < V_t$ &
        $V_{DS} = 0$ &
        Transistor is off; no current flows. \\ \hline
        Triode &
        $V_{GS} > V_t$ &
        $V_{DS} < V_{GS} - V_t$ &
        $I_D$ is proportional to $V_{DS}$. \\ \hline
        Saturation &
        $V_{GS} > V_t$ &
        $V_{DS} \geq V_{GS} - V_t$ &
        $I_D$ is constant. \\ \hline
    \end{tabular}
    \label{tab:03-mosfet-regions}
\end{table}

Figure~\ref{fig:03-mosfet_regions} shows $i_D$ versus $v_{DS}$ for a fixed value of $v_{GS} > V_t$. When $v_{DS}$ is increased, the relationship is approximately linear for small values of $v_{DS}$, while increasing $v_{DS}$ slowly constricts the channel, until its pinched off, while $i_{D}$ saturates. When $v_{DS}$ < $V_{GS} - V_t$, the MOSFET is in the \textit{triode region}, where the drain current $I_D$ is proportional to the drain-source voltage $V_{DS}$. In this region, the MOSFET behaves like a variable resistor. When $v_{DS}$ is increased beyond $V_{GS} - V_t$, the MOSFET enters the \textit{saturation region}, where the drain current $I_D$ becomes constant and independent of the drain-source voltage $V_{DS}$. In the saturation mode, the MOSFET behaves like a voltage controlled current source, where the drain current $I_D$ is controlled by the gate-source voltage $V_{GS}$. When $V_{GS} < V_t$, the MOSFET is in the \textit{cut-off region}, where no current flows through the MOSFET. The current versus voltage characteristics of a MOSFET is shown in Figure~\ref{fig:03-mosfet-iv-curves}. When $v_{DS}$ is large enough to keep the MOSFET in the saturation region, the drain current $I_D$ is given by,
\begin{equation}
    i_D = \frac{1}{2}k_n\left(v_{GS} - V_t\right)^2
    \label{eq03-mosfet-id-sat}
\end{equation}


\begin{figure}[t]
    \centering
    \includegraphics[width=0.8\textwidth]{figure/ch03/fig03-mosfet-iv-curves.pdf}
    \caption{Current vs. voltage characteristics of a MOSFET.}
    \label{fig:03-mosfet-iv-curves}
\end{figure}

